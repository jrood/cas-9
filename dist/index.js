export function jsx(e,a){if(e instanceof Function)return untrack(()=>e(a));let s=document.createElement(e);for(let e in a){let c=a[e];e===`children`?render(c,s):e.startsWith(`on`)&&e[2]==e[2].toUpperCase()?s.addEventListener(e.slice(2).toLowerCase(),c):c instanceof Function?effect(()=>setAttrOrProp(s,e,c())):setAttrOrProp(s,e,c)}return s}export{jsx as jsxDEV,jsx as jsxs,jsx as jsxsDEV};function setAttrOrProp(e,i,a){e[i]===void 0?e.setAttribute(i,a):e[i]=a}export const Fragment=e=>e.children;export function render(e,i){if(e instanceof Function){let a;effect(()=>{let s=document.createDocumentFragment();render(e(),s);let c=Array.from(s.childNodes);if(c.length||c.push(document.createComment(``)),a){for(let e of a.slice(1))e.remove();a[0].replaceWith(...c)}else i.append(...c);a=c})}else if(Array.isArray(e))for(let a of e)render(a,i);else i.append(e)}let current;export function signal(e){let i=new Set;return[()=>(current&&!current.untrack&&(current.signals.add(i),i.add(current)),e),a=>{if(a!==e){e=a;let o=current;for(let e of[...i])current=e,clear(e),e.fn();current=o}}]}function clear(e){for(let i of e.effects)clear(i);e.effects.clear();for(let i of e.signals)i.delete(e);e.signals.clear()}export function effect(e){let i={fn:e,signals:new Set,effects:new Set,untrack:!1};current?.effects.add(i);let a=current;current=i,e(),current=a}export function untrack(e){if(!current)return e();let i=current.untrack;current.untrack=!0;let a=e();return current.untrack=i,a}