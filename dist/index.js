let e=null;function t(e,t){if(e.value!==t){e.value=t;let n=new Set;c(e,n),e.observers.clear();for(let e of n)o(e)}}function n(n){let r={value:n,observers:new Set};return[()=>function(t){return e&&t.observers.add(e),t.value}(r),e=>t(r,e)]}function r(t){let n={value:null,fn:t,stale:!0,observers:new Set,initObserver:e,initIteration:e?.iteration??null,iteration:null};return()=>function(t){return e&&t.observers.add(e),t.stale&&(t.value=i(t),t.stale=!1),t.value}(n)}function i(t){if(t.initIteration!==(t.initObserver?.iteration??null))return;let n=e;e=t,t.iteration=Symbol();let r=t.fn();return e=n,r}function a(t){o({fn:t,initObserver:e,initIteration:e?.iteration??null,iteration:null})}function o(e){e.cleanup=i(e)}const s=e=>!!e.observers;function c(e,t){for(let n of e.observers)s(n)?(n.stale=!0,c(n,t),n.observers.clear()):t.add(n)}const l=new Proxy({},{get:(e,t)=>(e,...n)=>function(e,t,n){if(e===`script`)throw Error(`Script elements cannot be programmatically created.`);let r=document.createElement(e);for(let e in t){let n=t[e];if(e.startsWith(`on`)&&e[2]===e[2].toUpperCase()){if(n instanceof Function){let t=e.slice(2).toLowerCase();r.addEventListener(t,n)}}else n instanceof Function?a(()=>{r.setAttribute(e,n())}):r.setAttribute(e,`${n}`)}return a(()=>{r.replaceChildren(...n.map(e=>e instanceof Function?e():e).flat(1/0).filter(e=>e||e===0).map(e=>e instanceof Node?e:document.createTextNode(e)))}),r}(t,e,n)}),u=(e,t)=>t.append(...[e()].flat(1/0));export{r as computed,a as effect,l as elements,u as render,n as signal};