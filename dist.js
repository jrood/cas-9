const e=Symbol();let t=null;function n(e){let n=t;t=e;let r=e.fn();`observers`in e&&(e.value=r),t=n}function r(e){t&&(t.untrack=!0);let n=e();return t&&delete t.untrack,n}function i(e){let t={value:e,observers:new Set};return[()=>s(t),e=>function(e,t){if(t===e.value)return;e.value=t;let r=new Set;c(e,r);for(let e of r)n(e)}(t,e)]}function a(n){let r={fn:n,value:e,subjects:new Set,observers:new Set,scope:new Set};return t?.scope.add(r),()=>s(r)}function o(e){let r={fn:e,subjects:new Set,scope:new Set};t?.scope.add(r),n(r)}function s(r){return t&&!t.untrack&&function(e,t){e.observers.add(t),t.subjects.add(e)}(r,t),r.value===e&&n(r),r.value}function c(t,n){for(let r of t.observers)l(r),`observers`in r?(r.value=e,c(r,n)):n.add(r)}function l(e){for(let t of e.subjects)t.observers.delete(e);e.subjects.clear();for(let t of e.scope)l(t);e.scope.clear()}function u(e,t){return e instanceof Function?r(()=>e(t)):function(e,t){let n=document.createElement(e),r=[];for(let e in t){let i=t[e];if(e!==`children`)if(e.startsWith(`on`)&&e[2]==e[2].toUpperCase()){let t=e.slice(2).toLowerCase();n.addEventListener(t,i)}else i instanceof Function?o(()=>{n.setAttribute(e,i())}):n.setAttribute(e,i);else r=i}return f(r,n),n}(e,t)}function d(e){return e.children}function f(e,t,n,...r){let i=[e].flat(9).filter(e=>e!=null);for(let e of i)if(e instanceof Function){let n;o(()=>{let i=n?.[0],a=[];if(f(e(),t,i,a,...r),i){for(let e of n)t.removeChild(e);for(let e of r)e.splice(e.indexOf(n[0]),n.length)}n=a})}else{let i=e instanceof Node?e:document.createTextNode(`${e}`);if(r.length)if(n){n.parentElement?.insertBefore(i,n);for(let e of r)e.splice(e.indexOf(n),0,i)}else{t.appendChild(i);for(let e of r)e.push(i)}else t.appendChild(i)}}export{d as Fragment,o as effect,u as jsx,a as memo,f as render,i as signal,r as untrack};